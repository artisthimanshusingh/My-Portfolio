<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Artist Himanshu Singh</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <style>
    :root{
      --bg-1:#0b132b; --bg-2:#1c2541; --bg-3:#0f2027;
      --card:#203a43; --accent:#ffb703; --accent-2:#219ebc;
      --text:#f4f7fb;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Raleway',sans-serif; color:var(--text);
      background:
        radial-gradient(1200px 600px at 10% -10%, #182c47 0%, #0b132b 60%, #000 100%),
        linear-gradient(160deg, var(--bg-1), var(--bg-2) 50%, var(--bg-3));
      min-height:100vh; overflow-x:hidden;
    }
    body::before{
      content:"";
      position:fixed; inset:0; z-index:-1;
      background:
        radial-gradient(2px 2px at 20% 30%, #ffffffcc 40%, transparent 41%) repeat,
        radial-gradient(1.5px 1.5px at 70% 60%, #ffffff99 40%, transparent 41%) repeat,
        radial-gradient(1.2px 1.2px at 40% 80%, #ffffff80 40%, transparent 41%) repeat;
      background-size: 220px 180px, 260px 220px, 300px 260px;
      opacity:.35;
    }

    /* Header / Nav */
    header{position:sticky;top:0;z-index:50;background:rgba(0,0,0,.55);backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,.08)}
    nav{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:.9rem 1.2rem;max-width:1100px;margin:0 auto}
    .brand{display:flex;align-items:center;gap:.7rem;font-family:'Playfair Display',serif;font-weight:700}
    .brand img{width:44px;height:44px;border-radius:50%;object-fit:cover;border:2px solid #fff}
    .brand span{font-size:1.1rem}
    .links{display:flex;gap:1.2rem;list-style:none}
    .links a{color:var(--text);text-decoration:none;font-weight:700}
    .links a:hover{color:var(--accent)}

    /* Hero (slideshow) */
    .hero{
      position:relative; min-height:60vh;
      display:grid; place-items:center; text-align:center;
      padding:5rem 1.5rem 3rem;
      isolation:isolate; 
      background-size:cover; background-position:center; background-repeat:no-repeat;
      transition:background-image .6s ease-in-out;
    }
    .hero::after{
      content:""; position:absolute; inset:0; z-index:-1;
      background:linear-gradient(to bottom, rgba(0,0,0,.45), rgba(0,0,0,.65));
    }
    .hero h1{font-family:'Playfair Display',serif;font-size:clamp(2rem,5vw,3.2rem);margin:.2rem 0 .6rem}
    .hero p{opacity:.95; max-width:750px; margin:0 auto; line-height:1.6}

    /* Sections */
    section{max-width:1100px;margin:0 auto;padding:2rem 1.2rem}
    h2{font-family:'Playfair Display',serif;font-size:clamp(1.6rem,3.3vw,2.2rem);margin:.3rem 0 1rem}

    /* Gallery cards */
    .gallery{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(230px,1fr))}
    .card{background:var(--card);border-radius:14px;overflow:hidden;box-shadow:0 10px 24px rgba(0,0,0,.35)}
    .card img{width:100%;display:block;aspect-ratio:4/5;object-fit:cover;cursor:pointer;transition:transform .35s ease}
    .card img:hover{transform:scale(1.04)}
    .meta{display:flex;align-items:center;justify-content:space-between;gap:.6rem;padding:.6rem .8rem}
    .btn{background:#2c5364;border:none;color:#fff;cursor:pointer;padding:.45rem .8rem;border-radius:10px;font-weight:700}
    .btn:hover{background:var(--accent);color:#000}
    .likes{font-weight:700;opacity:.95}
    .comments{padding:.6rem .9rem 1rem}
    .comments form{display:flex;gap:.5rem;margin:.4rem 0}
    .comments input{flex:1;padding:.55rem .7rem;border-radius:10px;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.06);color:var(--text)}
    .comments .send{background:var(--accent-2)}
    .comments .send:hover{filter:brightness(1.1)}
    .comment-list{display:grid;gap:.4rem;max-height:160px;overflow:auto;margin-top:.4rem}
    .comment{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08);padding:.5rem .65rem;border-radius:8px}

    /* Lightbox */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.92);display:none;place-items:center;z-index:100}
    .lightbox.open{display:grid}
    .lightbox img{max-width:92vw;max-height:85vh;border-radius:12px}
    .lightbox .close{position:absolute;top:14px;right:18px;font-size:2rem;cursor:pointer}

    /* Footer */
    footer{text-align:center;padding:1.3rem 1rem;background:rgba(0,0,0,.55);border-top:1px solid rgba(255,255,255,.08)}
    .socials{display:flex;justify-content:center;gap:1rem;font-size:1.6rem;margin-top:.4rem}
    .socials a{color:var(--text);text-decoration:none}
    .socials a:hover{color:var(--accent)}

    /* Responsive tweaks */
    @media (max-width:560px){
      .links{gap:.8rem}
      .brand span{display:none}
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <nav>
      <div class="brand">
        <img src="profile.jpg" alt="Artist Himanshu Singh">
        <span>Artist Himanshu Singh</span>
      </div>
      <ul class="links">
        <li><a href="#hero">Home</a></li>
        <li><a href="#gallery">Gallery</a></li>
        <li><a href="#videos">Videos</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- Hero (slideshow) -->
  <section class="hero" id="hero">
    <h1>Welcome to My Portfolio</h1>
    <p>Explore my artwork, videos, and projects. Click images to view full size, like, comment, and share!</p>
  </section>

  <!-- Gallery -->
  <section id="gallery">
    <h2>My Artwork</h2>
    <div class="gallery">
      <div class="gallery">
  <div class="card" data-id="art1"><img src="images/art1.jpg" alt="Artwork 1"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art2"><img src="images/art2.jpg" alt="Artwork 2"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art3"><img src="images/art3.jpg" alt="Artwork 3"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art4"><img src="images/art4.jpg" alt="Artwork 4"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art5"><img src="images/art5.jpg" alt="Artwork 5"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art6"><img src="images/art6.jpg" alt="Artwork 6"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art7"><img src="images/art7.jpg" alt="Artwork 7"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art8"><img src="images/art8.jpg" alt="Artwork 8"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art9"><img src="images/art9.jpg" alt="Artwork 9"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art10"><img src="images/art10.jpg" alt="Artwork 10"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art11"><img src="images/art11.jpg" alt="Artwork 11"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art12"><img src="images/art12.jpg" alt="Artwork 12"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art13"><img src="images/art13.jpg" alt="Artwork 13"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art14"><img src="images/art14.jpg" alt="Artwork 14"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art15"><img src="images/art15.jpg" alt="Artwork 15"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art16"><img src="images/art16.jpg" alt="Artwork 16"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art17"><img src="images/art17.jpg" alt="Artwork 17"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art18"><img src="images/art18.jpg" alt="Artwork 18"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
  <div class="card" data-id="art19"><img src="images/art19.jpg" alt="Artwork 19"><div class="meta"><button class="btn like">â¤ï¸ Like</button><span class="likes">0</span><button class="btn share">ğŸ”— Share</button></div><div class="comments"><form><input type="text" placeholder="Write a comment..." required><button class="btn send">Send</button></form><div class="comment-list"></div></div></div>
</div>

  </section>

  <!-- Videos -->
  <section id="videos">
    <h2>Featured Videos</h2>
    <div class="gallery">
      <div class="card">
        <iframe width="100%" height="315" src="https://www.youtube.com/embed/12EtrXQvwk4" frameborder="0" allowfullscreen></iframe>
      </div>
      <div class="card">
        <iframe width="100%" height="315" src="https://www.tiktok.com/embed/v2/7543279554341833986" frameborder="0" allowfullscreen></iframe>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact">
    <h2>Contact Me</h2>
    <p>Email: <a href="mailto:artistherapy001@gmail.com">artistherapy001@gmail.com</a></p>
  </section>

  <!-- Footer -->
  <footer>
    <p>Â© 2025 Artist Himanshu Singh</p>
    <div class="socials">
      <a href="https://www.youtube.com/@artisthimanshu6603" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
      <a href="https://www.instagram.com/artisthimanshusingh" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      <a href="https://www.tiktok.com/@artist.himanshu" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
      <a href="mailto:artistherapy001@gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
    </div>
  </footer>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox">
    <span class="close">&times;</span>
    <img src="" alt="Expanded artwork">
  </div>

  <!-- Firebase + Page Logic (Self-contained) -->
  <script type="module">
    /* ---------- Hero slideshow (uses your gallery images) ---------- */
    const heroEl = document.querySelector('.hero');
    const heroImages = [
      'images/image1.jpg','images/image2.jpg','images/image3.jpg',
      'images/image4.jpg','images/image5.jpg','images/image6.jpg'
    ];
    let heroIdx = 0;
    function setHero(bg){ heroEl.style.backgroundImage = `url('${bg}')`; }
    setHero(heroImages[0]);
    setInterval(()=>{ heroIdx = (heroIdx+1)%heroImages.length; setHero(heroImages[heroIdx]); }, 4500);

    /* ---------- Lightbox ---------- */
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = lightbox.querySelector('img');
    lightbox.querySelector('.close').addEventListener('click',()=> lightbox.classList.remove('open'));
    document.querySelectorAll('.card img').forEach(img=>{
      img.addEventListener('click', ()=>{
        lightboxImg.src = img.src;
        lightbox.classList.add('open');
      });
    });

    /* ---------- Share helper ---------- */
    function shareImage(id){
      const url = `${location.origin}${location.pathname}#${id}`;
      const title = 'Artwork by Artist Himanshu Singh';
      if (navigator.share){
        navigator.share({title, url}).catch(()=>navigator.clipboard.writeText(url));
      } else {
        navigator.clipboard.writeText(url);
        alert('Link copied! You can paste it anywhere.');
      }
    }

    /* ---------- Firebase (Firestore) ---------- */
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
    import { getFirestore, doc, getDoc, setDoc, updateDoc, onSnapshot, arrayUnion, serverTimestamp, increment } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDDIJ0UeZUs0RzjXtLhfbj-DnvwpeBHjiU",
      authDomain: "artisthimansusingh-3a9cd.firebaseapp.com",
      projectId: "artisthimanshusingh-3a9cd",
      storageBucket: "artisthimanshusingh-3a9cd.firebasestorage.app",
      messagingSenderId: "553538420194",
      appId: "1:553538420194:web:2f6725a745bf2230eb8dbb",
      measurementId: "G-9BM2G3KDMQ"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Helper: ensure doc exists
    async function ensureDoc(id){
      const ref = doc(db, 'artworks', id);
      const snap = await getDoc(ref);
      if (!snap.exists()){
        await setDoc(ref, { likes: 0, comments: [] });
      }
      return ref;
    }

    // Wire up each card
    document.querySelectorAll('.card').forEach(async (card)=>{
      const id = card.getAttribute('data-id');               // e.g., "img7"
      const likeBtn = card.querySelector('.like');
      const likeCountEl = card.querySelector('.likes');
      const shareBtn = card.querySelector('.share');
      const form = card.querySelector('form');
      const input = card.querySelector('input');
      const list = card.querySelector('.comment-list');

      const ref = await ensureDoc(id);

      // Live updates
      onSnapshot(ref, (snap)=>{
        const data = snap.data() || {likes:0, comments:[]};
        likeCountEl.textContent = data.likes ?? 0;
        // render comments
        list.innerHTML = '';
        (data.comments || []).slice().reverse().forEach(c=>{
          const li = document.createElement('div');
          li.className = 'comment';
          const date = c.ts?.toDate ? c.ts.toDate() : (c.ts ? new Date(c.ts) : null);
          const when = date ? ` â€¢ ${date.toLocaleString()}` : '';
          li.textContent = `${c.text || ''}${when}`;
          list.appendChild(li);
        });
      });

      // Like
      likeBtn.addEventListener('click', async ()=>{
        await updateDoc(ref, { likes: increment(1) });
      });

      // Share
      shareBtn.addEventListener('click', ()=> shareImage(id));

      // Comment
      form.addEventListener('submit', async (e)=>{
        e.preventDefault();
        const text = (input.value || '').trim();
        if (!text) return;
        await updateDoc(ref, { comments: arrayUnion({ text, ts: serverTimestamp() }) });
        input.value = '';
      });
    });

    /* ---------- Optional: jump to image from shared link ---------- */
    if (location.hash){
      const id = location.hash.replace('#','');
      const card = document.querySelector(`.card[data-id="${id}"] img`);
      if (card){ card.click(); }
    }
  </script>

</body>
</html>
